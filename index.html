<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' fill='%23020202'/><path d='M5 50 L20 50 L30 20 L40 80 L50 10 L60 90 L70 40 L80 60 L90 50 L95 50' stroke='%2300F3FF' stroke-width='6' fill='none' stroke-linejoin='round' stroke-linecap='round'/><circle cx='50' cy='50' r='45' stroke='%2300F3FF' stroke-width='2' fill='none' stroke-dasharray='5 5' opacity='0.3'/></svg>" />
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="theme-color" content="#020202" />
    <meta name="description" content="Netrunner OS // Neural Link Interface v4.0" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
    
    <title>NETRUNNER // BOOTING...</title>

    <style>
      :root {
        --cyan: #00F3FF;
        --bg: #020202;
      }

      body, html { 
        margin: 0; 
        padding: 0; 
        background-color: var(--bg); 
        color: var(--cyan);
        font-family: 'Space Mono', monospace;
        overflow: hidden;
        width: 100%;
        height: 100%;
      }

      .boot-sequence {
        height: 100vh;
        width: 100vw;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        position: relative;
        z-index: 10;
        background: radial-gradient(circle at center, #001515 0%, #020202 100%);
      }

      .scanline {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 2px;
        background: rgba(0, 243, 255, 0.1);
        z-index: 20;
        pointer-events: none;
        animation: scan 4s linear infinite;
      }

      .crt-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.1) 50%), 
                    linear-gradient(90deg, rgba(255, 0, 0, 0.03), rgba(0, 255, 0, 0.01), rgba(0, 0, 255, 0.03));
        background-size: 100% 3px, 3px 100%;
        z-index: 15;
        pointer-events: none;
      }

      .glitch-text {
        font-size: clamp(18px, 5vw, 24px);
        font-weight: 700;
        letter-spacing: 0.5em;
        text-transform: uppercase;
        text-shadow: 0 0 10px rgba(0, 243, 255, 0.5);
        margin-bottom: 20px;
        text-align: center;
      }

      .loader-container {
        width: clamp(200px, 60vw, 300px);
        height: 4px;
        background: rgba(0, 243, 255, 0.1);
        position: relative;
        border: 1px solid rgba(0, 243, 255, 0.2);
      }

      .loader-progress {
        position: absolute;
        top: 0;
        left: 0;
        height: 100%;
        width: 0%;
        background: var(--cyan);
        box-shadow: 0 0 15px var(--cyan);
        animation: load 2.5s cubic-bezier(0.4, 0, 0.2, 1) forwards;
      }

      .terminal-log {
        margin-top: 20px;
        font-size: 10px;
        color: rgba(0, 243, 255, 0.6);
        text-transform: uppercase;
        letter-spacing: 0.1em;
        height: 1.5em;
      }

      @keyframes load {
        0% { width: 0%; }
        20% { width: 15%; }
        50% { width: 60%; }
        80% { width: 85%; }
        100% { width: 100%; }
      }

      @keyframes scan {
        0% { top: -10%; }
        100% { top: 110%; }
      }
    </style>
  </head>
  <body>
    <div class="scanline"></div>
    <div class="crt-overlay"></div>

    <div id="root">
      <div class="boot-sequence">
        <div class="glitch-text" id="brand">Netrunner_OS</div>
        <div class="loader-container">
          <div class="loader-progress"></div>
        </div>
        <div class="terminal-log" id="console-text">> Initializing Kernel...</div>
      </div>
    </div>

    <script>
      const originalTitle = "● ONLINE // NETRUNNER";
      const awayTitle = "⚠ SIGNAL_LOST";
      
      document.addEventListener("visibilitychange", () => {
        document.title = document.hidden ? awayTitle : originalTitle;
      });

      const logs = [
        "> Establishing Secure Uplink...",
        "> Handshaking Neural_Link...",
        "> Decrypting Core_Assets...",
        "> Mounting Data_Banks...",
        "> Access Granted."
      ];
      
      let i = 0;
      const logEl = document.getElementById('console-text');
      const brandEl = document.getElementById('brand');
      
      if(logEl) {
        const interval = setInterval(() => {
          if (i < logs.length) {
            logEl.innerText = logs[i];
            i++;
          } else {
            clearInterval(interval);
          }
        }, 450);
      }

      const glitches = ["N3trunn3r_OS", "Netrunner_OS", "N€trunner_OS", "Netrunner_0S"];
      setInterval(() => {
        if(brandEl && Math.random() > 0.8) {
          const original = brandEl.innerText;
          brandEl.innerText = glitches[Math.floor(Math.random() * glitches.length)];
          setTimeout(() => brandEl.innerText = "Netrunner_OS", 100);
        }
      }, 2000);

      window.onload = () => { document.title = originalTitle; };
    </script>

    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>