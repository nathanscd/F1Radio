<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' fill='%23020202'/><path d='M5 50 L20 50 L30 20 L40 80 L50 10 L60 90 L70 40 L80 60 L90 50 L95 50' stroke='%2300F3FF' stroke-width='6' fill='none' stroke-linejoin='round' stroke-linecap='round'/><circle cx='50' cy='50' r='45' stroke='%2300F3FF' stroke-width='2' fill='none' stroke-dasharray='5 5' opacity='0.3'/></svg>" />
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="theme-color" content="#020202" />
    <meta name="description" content="Netrunner OS // Neural Link Interface v4.0" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=Orbitron:wght@400;900&display=swap" rel="stylesheet">
    
    <title>NETRUNNER // BOOTING...</title>

    <style>
      :root {
        --cyan: #00F3FF;
        --pink: #FF003C;
        --bg: #020202;
      }

      body, html { 
        margin: 0; 
        padding: 0; 
        background-color: var(--bg); 
        color: var(--cyan);
        font-family: 'Space Mono', monospace;
        overflow: hidden;
        width: 100%;
        height: 100%;
      }

      .boot-sequence {
        height: 100vh;
        width: 100vw;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        position: relative;
        z-index: 10;
        background: radial-gradient(circle at center, #001515 0%, #020202 100%);
      }

      .scanline {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 2px;
        background: rgba(0, 243, 255, 0.1);
        z-index: 20;
        pointer-events: none;
        animation: scan 4s linear infinite;
      }

      .crt-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.1) 50%), 
                    linear-gradient(90deg, rgba(255, 0, 0, 0.03), rgba(0, 255, 0, 0.01), rgba(0, 0, 255, 0.03));
        background-size: 100% 3px, 3px 100%;
        z-index: 15;
        pointer-events: none;
      }

      .glitch-text {
        font-family: 'Orbitron', sans-serif;
        font-size: clamp(24px, 6vw, 36px);
        font-weight: 900;
        letter-spacing: 0.3em;
        text-transform: uppercase;
        text-shadow: 2px 0 var(--pink), -2px 0 var(--cyan);
        margin-bottom: 30px;
        text-align: center;
        animation: pulse 2s infinite;
      }

      .loader-container {
        width: clamp(250px, 70vw, 400px);
        height: 6px;
        background: rgba(0, 243, 255, 0.05);
        position: relative;
        border: 1px solid rgba(0, 243, 255, 0.2);
        clip-path: polygon(2% 0, 100% 0, 98% 100%, 0 100%);
      }

      .loader-progress {
        position: absolute;
        top: 0;
        left: 0;
        height: 100%;
        width: 0%;
        background: var(--cyan);
        box-shadow: 0 0 20px var(--cyan);
        animation: load 3s cubic-bezier(0.4, 0, 0.2, 1) forwards;
      }

      .terminal-log {
        margin-top: 25px;
        font-size: 11px;
        color: rgba(0, 243, 255, 0.7);
        text-transform: uppercase;
        letter-spacing: 0.2em;
        height: 1.5em;
        font-weight: bold;
      }

      @keyframes load {
        0% { width: 0%; }
        20% { width: 25%; }
        45% { width: 65%; }
        85% { width: 92%; }
        100% { width: 100%; }
      }

      @keyframes scan {
        0% { top: -10%; }
        100% { top: 110%; }
      }

      @keyframes pulse {
        0%, 100% { opacity: 1; transform: scale(1); }
        50% { opacity: 0.8; transform: scale(0.98); }
      }
    </style>
  </head>
  <body>
    <div class="scanline"></div>
    <div class="crt-overlay"></div>

    <div id="root">
      <div class="boot-sequence">
        <div class="glitch-text" id="brand">Netrunner_OS</div>
        <div class="loader-container">
          <div class="loader-progress"></div>
        </div>
        <div class="terminal-log" id="console-text">> Initializing Kernel...</div>
      </div>
    </div>

    <script>
      // Lógica de Título Dinâmico (Global)
      window.updateNeuralTitle = function(trackTitle, artist) {
        if (trackTitle && trackTitle !== 'SYSTEM_IDLE') {
          document.title = `▶ ${trackTitle.toUpperCase()} // ${artist.toUpperCase()}`;
        } else {
          document.title = "● ONLINE // NETRUNNER_OS";
        }
      };

      const awayTitle = "⚠ SIGNAL_LOST // STANDBY";
      let lastActiveTitle = "● ONLINE // NETRUNNER_OS";
      
      document.addEventListener("visibilitychange", () => {
        if (document.hidden) {
          lastActiveTitle = document.title;
          document.title = awayTitle;
        } else {
          document.title = lastActiveTitle;
        }
      });

      // Sequência de Boot
      const logs = [
        "> Establishing Secure Uplink...",
        "> Handshaking Neural_Link...",
        "> Decrypting Core_Assets...",
        "> Mounting Data_Banks...",
        "> System Stable. Access Granted."
      ];
      
      let i = 0;
      const logEl = document.getElementById('console-text');
      const brandEl = document.getElementById('brand');
      
      if(logEl) {
        const interval = setInterval(() => {
          if (i < logs.length) {
            logEl.innerText = logs[i];
            i++;
          } else {
            clearInterval(interval);
          }
        }, 500);
      }

      // Efeito de Glitch no Logo
      const glitches = ["N3trunn3r_OS", "Netrunner_OS", "N€trunner_OS", "Netrunner_0S", "N.E.T.R.U.N.N.E.R"];
      setInterval(() => {
        if(brandEl && Math.random() > 0.85) {
          brandEl.innerText = glitches[Math.floor(Math.random() * glitches.length)];
          brandEl.style.color = Math.random() > 0.5 ? '#FF003C' : '#00F3FF';
          setTimeout(() => {
            brandEl.innerText = "Netrunner_OS";
            brandEl.style.color = '#00F3FF';
          }, 120);
        }
      }, 2500);
    </script>

    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
